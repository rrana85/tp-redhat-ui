import Yt,{Component as Zt}from"react";import $e,{forwardRef as Xt,useCallback as Je,useContext as es,useEffect as ts,useImperativeHandle as ss,useMemo as Ke,useRef as X,useState as Ee}from"react";import{BaseComponentWrapper as rs,GridCoreCreator as ns,VanillaFrameworkOverrides as os,_combineAttributesAndGridOptions as as,_getGlobalGridOption as cs,_getGridRegisteredModules as is,_isClientSideRowModel as ls,_isServerSideRowModel as us,_observeResize as ds,_processOnChange as ps,_warn as ms}from"ag-grid-community";import ue,{forwardRef as hs,useCallback as fs,useContext as Cs,useImperativeHandle as gs,useLayoutEffect as ys,useMemo as qe,useRef as be,useState as he}from"react";import{_escapeString as vs}from"ag-grid-community";import ws from"react";var q=ws.createContext({}),De=(e,t,s,r)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const d=e.newAgStackInstance();let a,o,u=!1;return d.then(c=>{if(u){t.destroyBean(c);return}a=c,o=a.getGui(),s.appendChild(o),St(r,a)}),()=>{u=!0,a&&(o?.parentElement?.removeChild(o),t.destroyBean(a),r&&St(r,void 0))}},St=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const s=e;s.current=t}};import Rs from"react";import Es from"react-dom";var se=(...e)=>e.filter(s=>s!=null&&s!=="").join(" "),ee=class $t{constructor(...t){this.classesMap={},t.forEach(s=>{this.classesMap[s]=!0})}setClass(t,s){if(!!this.classesMap[t]==s)return this;const n=new $t;return n.classesMap={...this.classesMap},n.classesMap[t]=s,n}toString(){return Object.keys(this.classesMap).filter(s=>this.classesMap[s]).join(" ")}},Pe=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,s=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===s()},at=Rs.version?.split(".")[0],bs=at==="16"||at==="17";function Ps(){return at==="19"}var Qe=!1;function Ss(e){return Qe||setTimeout(()=>Qe=!1,0),Qe=!0,e()}var ct=(e,t)=>{!bs&&e&&!Qe?Es.flushSync(t):t()};function it(e,t,s){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(s||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const r=[],n=[],d=new Map,a=new Map;for(let o=0;o<t.length;o++){const u=t[o];a.set(u.instanceId,u)}for(let o=0;o<e.length;o++){const u=e[o];d.set(u.instanceId,u),a.has(u.instanceId)&&r.push(u)}for(let o=0;o<t.length;o++){const u=t[o],c=u.instanceId;d.has(c)||n.push(u)}return r.length===e.length&&n.length===0?e:r.length===0&&n.length===t.length?t:r.length===0?n:n.length===0?r:[...r,...n]}var kt=hs((e,t)=>{const{registry:s,context:r}=Cs(q),n=be(null),d=be(null),a=be(null),o=be(null),u=be(null),c=be(),[l,m]=he(),[R,v]=he(),[h,f]=he(),[i,g]=he(()=>new ee),[P,y]=he(()=>new ee("ag-hidden")),[w,E]=he(()=>new ee("ag-hidden")),[F,b]=he(()=>new ee("ag-invisible"));gs(t,()=>({refresh(){return!1}})),ys(()=>De(l,r,d.current),[l]);const M=fs(V=>{if(n.current=V,!V){c.current=r.destroyBean(c.current);return}const G={setInnerRenderer:(S,T)=>{m(S),f(T)},setChildCount:S=>v(S),addOrRemoveCssClass:(S,T)=>g(D=>D.setClass(S,T)),setContractedDisplayed:S=>E(T=>T.setClass("ag-hidden",!S)),setExpandedDisplayed:S=>y(T=>T.setClass("ag-hidden",!S)),setCheckboxVisible:S=>b(T=>T.setClass("ag-invisible",!S))},z=s.createDynamicBean("groupCellRendererCtrl",!0);z&&(c.current=r.createBean(z),c.current.init(G,V,a.current,o.current,u.current,kt,e))},[]),B=qe(()=>`ag-cell-wrapper ${i.toString()}`,[i]),p=qe(()=>`ag-group-expanded ${P.toString()}`,[P]),C=qe(()=>`ag-group-contracted ${w.toString()}`,[w]),k=qe(()=>`ag-group-checkbox ${F.toString()}`,[F]),x=l&&l.componentFromFramework,j=x?l.componentClass:void 0,A=l==null&&h!=null,W=vs(h,!0);return ue.createElement("span",{className:B,ref:M,...e.colDef?{}:{role:c.current?.getCellAriaRole()}},ue.createElement("span",{className:p,ref:o}),ue.createElement("span",{className:C,ref:u}),ue.createElement("span",{className:k,ref:a}),ue.createElement("span",{className:"ag-group-value",ref:d},A&&ue.createElement(ue.Fragment,null,W),x&&ue.createElement(j,{...l.params})),ue.createElement("span",{className:"ag-group-child-count"},R))}),Ft=kt;import{AgPromise as lt}from"ag-grid-community";import Mt,{memo as ks,useEffect as Fs,useState as Ms}from"react";import{createContext as Bs}from"react";var Ie=Bs({setMethods:()=>{}}),xs=e=>{const{initialProps:t,addUpdateCallback:s,CustomComponentClass:r,setMethods:n}=e,[{key:d,...a},o]=Ms(t);return Fs(()=>{s(u=>o(u))},[]),Mt.createElement(Ie.Provider,{value:{setMethods:n}},Mt.createElement(r,{key:d,...a}))},Gs=ks(xs);import{createElement as As}from"react";import{createPortal as Ds}from"react-dom";import{AgPromise as ut}from"ag-grid-community";var Is=0;function Bt(){return`agPortalKey_${++Is}`}var xt=class{constructor(e,t,s,r){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=s,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Bt(),this.portalKey=Bt(),this.instanceCreated=this.isStatelessComponent()?ut.resolve(!1):new ut(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),s=document.createElement(t||"div");return s.classList.add("ag-react-container"),e.reactContainer=s,s}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const s=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!s){setTimeout(()=>this.callMethod(e,t));return}const r=s[e];if(r)return r.apply(s,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new ut(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Ds(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return As(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const s=this[`${e}Component`];if(!this.suppressFallbackMethods&&s)return s.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function dt(e,t,s){e.forEach(r=>{const n=t[r];n&&(s[r]=n)})}var ae=class extends xt{constructor(){super(...arguments),this.awaitUpdateCallback=new lt(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=Gs}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:s=>this.setMethods(s),addUpdateCallback:s=>{this.updateCallback=()=>(s(this.getProps()),new lt(r=>{setTimeout(()=>{r()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,dt(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new lt(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Os=class extends ae{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Ws=class extends ae{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Ts=class extends ae{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:s,shake:r}=this;return e.label=t,e.icon=s,e.shake=r,e}},Ns=class extends ae{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};import{AgPromise as Hs}from"ag-grid-community";function Gt(e,t){e.parentFilterInstance(s=>{(s.setModel(t)||Hs.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var _s=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=s=>this.updateModel(s)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){dt(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Gt(this.floatingFilterParams,e)}},Us=class extends ae{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Gt(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Vs=class extends ae{refresh(e){this.sourceParams=e,this.refreshProps()}},Ls=class extends ae{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},js=class extends ae{refresh(e){this.sourceParams=e,this.refreshProps()}},zs=class extends ae{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},$s=class extends ae{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};import{AgPromise as Js,_warn as Ks}from"ag-grid-community";function qs(e,t){(e?.getInstance?.()??Js.resolve(void 0)).then(r=>t(r))}function Ye(){Ks(231)}var Qs=1e3,Ys=class{constructor(e,t,s){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=s||Qs}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,s){this.portals=[...this.portals,e],this.waitForInstance(t,s),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,s=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-s>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,s)})}}};import Oe,{memo as Zs,useCallback as pt,useEffect as Xs,useMemo as Ze,useRef as Se,useState as fe}from"react";import{GridCtrl as er}from"ag-grid-community";import We,{memo as tr,useCallback as sr,useContext as rr,useMemo as re,useRef as ce,useState as Q}from"react";import{CssClassManager as nr,FakeHScrollComp as or,FakeVScrollComp as ar,GridBodyCtrl as cr,_observeResize as ir,_setAriaColCount as lr,_setAriaRowCount as ur}from"ag-grid-community";import Xe,{memo as dr,useCallback as pr,useContext as mr,useMemo as At,useRef as Dt,useState as It}from"react";import{GridHeaderCtrl as hr}from"ag-grid-community";import Ce,{memo as fr,useCallback as Cr,useContext as gr,useRef as mt,useState as Ot}from"react";import{HeaderRowContainerCtrl as yr}from"ag-grid-community";import et,{memo as vr,useCallback as Wt,useContext as wr,useMemo as Tt,useRef as tt,useState as ht}from"react";import{_EmptyBean as Rr}from"ag-grid-community";import Te,{memo as Er,useCallback as br,useContext as Pr,useEffect as Sr,useLayoutEffect as kr,useMemo as Fr,useRef as ke,useState as Mr}from"react";import{CssClassManager as Br,_EmptyBean as xr,_removeAriaSort as Gr,_setAriaSort as Ar}from"ag-grid-community";var Dr=({ctrl:e})=>{const t=e.isAlive(),{context:s}=Pr(q),r=t?e.column.getColId():void 0,[n,d]=Mr(),a=ke(),o=ke(null),u=ke(null),c=ke(null),l=ke(),m=ke();t&&!m.current&&(m.current=new Br(()=>o.current));const R=br(i=>{if(o.current=i,a.current=i?s.createBean(new xr):s.destroyBean(a.current),!i||!t)return;const g={setWidth:y=>{o.current&&(o.current.style.width=y)},addOrRemoveCssClass:(y,w)=>m.current.addOrRemoveCssClass(y,w),setAriaSort:y=>{o.current&&(y?Ar(o.current,y):Gr(o.current))},setUserCompDetails:y=>d(y),getUserCompInstance:()=>l.current||void 0};e.setComp(g,i,u.current,c.current,a.current);const P=e.getSelectAllGui();P&&(u.current?.insertAdjacentElement("afterend",P),a.current.addDestroyFunc(()=>P.remove()))},[]);kr(()=>De(n,s,c.current,l),[n]),Sr(()=>{e.setDragSource(o.current)},[n]);const v=Fr(()=>!!(n?.componentFromFramework&&Pe(n.componentClass)),[n]),h=n&&n.componentFromFramework,f=n&&n.componentClass;return Te.createElement("div",{ref:R,className:"ag-header-cell","col-id":r,role:"columnheader"},Te.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),Te.createElement("div",{ref:c,className:"ag-header-cell-comp-wrapper",role:"presentation"},h&&v&&Te.createElement(f,{...n.params}),h&&!v&&Te.createElement(f,{...n.params,ref:l})))},Ir=Er(Dr);import ge,{memo as Or,useCallback as Wr,useContext as Tr,useLayoutEffect as Nr,useMemo as Fe,useRef as ye,useState as Me}from"react";import{AgPromise as Hr,_EmptyBean as _r}from"ag-grid-community";var Ur=({ctrl:e})=>{const{context:t,gos:s}=Tr(q),[r,n]=Me(()=>new ee("ag-header-cell","ag-floating-filter")),[d,a]=Me(()=>new ee),[o,u]=Me(()=>new ee("ag-floating-filter-button","ag-hidden")),[c,l]=Me("false"),[m,R]=Me(),[,v]=Me(1),h=ye(),f=ye(null),i=ye(null),g=ye(null),P=ye(null),y=ye(),w=ye(),E=W=>{W!=null&&y.current&&y.current(W)},F=Wr(W=>{if(f.current=W,h.current=W?t.createBean(new _r):t.destroyBean(h.current),!W)return;w.current=new Hr(G=>{y.current=G});const V={addOrRemoveCssClass:(G,z)=>n(S=>S.setClass(G,z)),addOrRemoveBodyCssClass:(G,z)=>a(S=>S.setClass(G,z)),setButtonWrapperDisplayed:G=>{u(z=>z.setClass("ag-hidden",!G)),l(G?"false":"true")},setWidth:G=>{f.current&&(f.current.style.width=G)},setCompDetails:G=>R(G),getFloatingFilterComp:()=>w.current?w.current:null,setMenuIcon:G=>P.current?.appendChild(G)};e.setComp(V,W,P.current,i.current,h.current)},[]);Nr(()=>De(m,t,i.current,E),[m]);const b=Fe(()=>r.toString(),[r]),M=Fe(()=>d.toString(),[d]),B=Fe(()=>o.toString(),[o]),p=Fe(()=>!!(m&&m.componentFromFramework&&Pe(m.componentClass)),[m]),C=Fe(()=>s.get("reactiveCustomComponents"),[]),k=Fe(()=>{if(m)if(C){const W=new _s(m.params,()=>v(V=>V+1));return E(W),W}else m.componentFromFramework&&Ye()},[m]),x=k?.getProps(),j=m&&m.componentFromFramework,A=m&&m.componentClass;return ge.createElement("div",{ref:F,className:b,role:"gridcell"},ge.createElement("div",{ref:i,className:M,role:"presentation"},j&&!C&&ge.createElement(A,{...m.params,ref:p?()=>{}:E}),j&&C&&ge.createElement(Ie.Provider,{value:{setMethods:W=>k.setMethods(W)}},ge.createElement(A,{...x}))),ge.createElement("div",{ref:g,"aria-hidden":c,className:B,role:"presentation"},ge.createElement("button",{ref:P,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Vr=Or(Ur);import Ne,{memo as Lr,useCallback as jr,useContext as zr,useEffect as $r,useLayoutEffect as Jr,useMemo as st,useRef as He,useState as _e}from"react";import{_EmptyBean as Kr}from"ag-grid-community";var qr=({ctrl:e})=>{const{context:t}=zr(q),[s,r]=_e(()=>new ee),[n,d]=_e(()=>new ee),[a,o]=_e("false"),[u,c]=_e(),[l,m]=_e(),R=st(()=>e.column.getUniqueId(),[]),v=He(),h=He(null),f=He(null),i=He(null),g=He(),P=jr(M=>{if(h.current=M,v.current=M?t.createBean(new Kr):t.destroyBean(v.current),!M)return;const B={setWidth:p=>{h.current&&(h.current.style.width=p)},addOrRemoveCssClass:(p,C)=>r(k=>k.setClass(p,C)),setHeaderWrapperHidden:p=>{const C=i.current;C&&(p?C.style.setProperty("display","none"):C.style.removeProperty("display"))},setHeaderWrapperMaxHeight:p=>{const C=i.current;C&&(p!=null?C.style.setProperty("max-height",`${p}px`):C.style.removeProperty("max-height"),C.classList.toggle("ag-header-cell-comp-wrapper-limited-height",p!=null))},setUserCompDetails:p=>m(p),setResizableDisplayed:p=>{d(C=>C.setClass("ag-hidden",!p)),o(p?"false":"true")},setAriaExpanded:p=>c(p),getUserCompInstance:()=>g.current||void 0};e.setComp(B,M,f.current,i.current,v.current)},[]);Jr(()=>De(l,t,i.current),[l]),$r(()=>{h.current&&e.setDragSource(h.current)},[l]);const y=st(()=>!!(l?.componentFromFramework&&Pe(l.componentClass)),[l]),w=st(()=>"ag-header-group-cell "+s.toString(),[s]),E=st(()=>"ag-header-cell-resize "+n.toString(),[n]),F=l&&l.componentFromFramework,b=l&&l.componentClass;return Ne.createElement("div",{ref:P,className:w,"col-id":R,role:"columnheader","aria-expanded":u},Ne.createElement("div",{ref:i,className:"ag-header-cell-comp-wrapper",role:"presentation"},F&&y&&Ne.createElement(b,{...l.params}),F&&!y&&Ne.createElement(b,{...l.params,ref:g})),Ne.createElement("div",{ref:f,"aria-hidden":a,className:E}))},Qr=Lr(qr),Yr=({ctrl:e})=>{const{context:t}=wr(q),{topOffset:s,rowHeight:r}=Tt(()=>e.getTopAndHeight(),[]),n=e.getAriaRowIndex(),d=e.headerRowClass,[a,o]=ht(()=>r+"px"),[u,c]=ht(()=>s+"px"),l=tt(null),m=tt(null),[R,v]=ht(()=>e.getHeaderCtrls()),h=tt(),f=tt(null),i=Wt(y=>{if(f.current=y,h.current=y?t.createBean(new Rr):t.destroyBean(h.current),!y)return;const w={setHeight:E=>o(E),setTop:E=>c(E),setHeaderCtrls:(E,F,b)=>{m.current=l.current,l.current=E;const M=it(m.current,E,F);M!==m.current&&ct(b,()=>v(M))},setWidth:E=>{f.current&&(f.current.style.width=E)}};e.setComp(w,h.current,!1)},[]),g=Tt(()=>({height:a,top:u}),[a,u]),P=Wt(y=>{switch(e.type){case"group":return et.createElement(Qr,{ctrl:y,key:y.instanceId});case"filter":return et.createElement(Vr,{ctrl:y,key:y.instanceId});default:return et.createElement(Ir,{ctrl:y,key:y.instanceId})}},[]);return et.createElement("div",{ref:i,className:d,role:"row",style:g,"aria-rowindex":n},R.map(P))},Zr=vr(Yr),Xr=({pinned:e})=>{const[t,s]=Ot(!0),[r,n]=Ot([]),{context:d}=gr(q),a=mt(null),o=mt(null),u=mt(),c=e==="left",l=e==="right",m=!c&&!l,R=Cr(f=>{if(a.current=f,u.current=f?d.createBean(new yr(e)):d.destroyBean(u.current),!f)return;const i={setDisplayed:s,setCtrls:g=>n(g),setCenterWidth:g=>{o.current&&(o.current.style.width=g)},setViewportScrollLeft:g=>{a.current&&(a.current.scrollLeft=g)},setPinnedContainerWidth:g=>{a.current&&(a.current.style.width=g,a.current.style.minWidth=g,a.current.style.maxWidth=g)}};u.current.setComp(i,a.current)},[]),v=t?"":"ag-hidden",h=()=>r.map(f=>Ce.createElement(Zr,{ctrl:f,key:f.instanceId}));return Ce.createElement(Ce.Fragment,null,c&&Ce.createElement("div",{ref:R,className:"ag-pinned-left-header "+v,"aria-hidden":!t,role:"rowgroup"},h()),l&&Ce.createElement("div",{ref:R,className:"ag-pinned-right-header "+v,"aria-hidden":!t,role:"rowgroup"},h()),m&&Ce.createElement("div",{ref:R,className:"ag-header-viewport "+v,role:"presentation"},Ce.createElement("div",{ref:o,className:"ag-header-container",role:"rowgroup"},h())))},ft=fr(Xr),en=()=>{const[e,t]=It(()=>new ee),[s,r]=It(),{context:n}=mr(q),d=Dt(null),a=Dt(),o=pr(l=>{if(d.current=l,a.current=l?n.createBean(new hr):n.destroyBean(a.current),!l)return;const m={addOrRemoveCssClass:(R,v)=>t(h=>h.setClass(R,v)),setHeightAndMinHeight:R=>r(R)};a.current.setComp(m,l,l)},[]),u=At(()=>"ag-header "+e.toString(),[e]),c=At(()=>({height:s,minHeight:s}),[s]);return Xe.createElement("div",{ref:o,className:u,style:c,role:"presentation"},Xe.createElement(ft,{pinned:"left"}),Xe.createElement(ft,{pinned:null}),Xe.createElement(ft,{pinned:"right"}))},tn=dr(en);import{useEffect as sn}from"react";var rn=(e,t)=>{sn(()=>{const s=t.current;if(s){const r=s.parentElement;if(r){const n=document.createComment(e);return r.insertBefore(n,s),()=>{r.removeChild(n)}}}},[e])},ve=rn;import Ue,{memo as nn,useCallback as Ve,useContext as on,useMemo as Ct,useRef as Be,useState as an}from"react";import{RowContainerCtrl as cn,_getRowContainerOptions as ln}from"ag-grid-community";import xe,{memo as un,useCallback as dn,useContext as pn,useEffect as Nt,useLayoutEffect as mn,useMemo as Ht,useRef as de,useState as pe}from"react";import{CssClassManager as hn,_EmptyBean as fn}from"ag-grid-community";import _,{memo as Cn,useCallback as Le,useContext as gn,useLayoutEffect as gt,useMemo as yt,useRef as ie,useState as me}from"react";import{CssClassManager as yn,_EmptyBean as vn,_removeFromParent as wn}from"ag-grid-community";import{AgPromise as Rn}from"ag-grid-community";var En=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Rn(s=>{this.resolveInstanceCreated=s}),this.onValueChange=s=>this.updateValue(s),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){dt(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}};import _t,{memo as bn,useContext as Pn,useState as Sn}from"react";import{createPortal as kn}from"react-dom";import{_getLocaleTextFunc as Fn}from"ag-grid-community";import{useEffect as Mn,useRef as rt,useState as Bn}from"react";var xn=e=>{const t=rt(e),s=rt(),r=rt(!1),n=rt(!1),[,d]=Bn(0);r.current&&(n.current=!0),Mn(()=>(r.current||(s.current=t.current(),r.current=!0),d(a=>a+1),()=>{n.current&&s.current?.()}),[])},Gn=e=>{const[t,s]=Sn(),{context:r,popupSvc:n,localeSvc:d,gos:a,editSvc:o}=Pn(q);return xn(()=>{const{editDetails:u,cellCtrl:c,eParentCell:l}=e,{compDetails:m}=u,R=a.get("stopEditingWhenCellsLoseFocus"),v=r.createBean(o.createPopupEditorWrapper(m.params)),h=v.getGui();if(e.jsChildComp){const F=e.jsChildComp.getGui();F&&h.appendChild(F)}const{column:f,rowNode:i}=c,g={column:f,rowNode:i,type:"popupCellEditor",eventSource:l,ePopup:h,position:u.popupPosition,keepWithinBounds:!0},P=n?.positionPopupByComponent.bind(n,g),y=Fn(d),w=n?.addPopup({modal:R,eChild:h,closeOnEsc:!0,closedCallback:()=>{c.onPopupEditorClosed()},anchorToElement:l,positionCallback:P,ariaLabel:y("ariaLabelCellEditor","Cell Editor")}),E=w?w.hideFunc:void 0;return s(v),e.jsChildComp?.afterGuiAttached?.(),()=>{E?.(),r.destroyBean(v)}}),_t.createElement(_t.Fragment,null,t&&e.wrappedContent&&kn(e.wrappedContent,t.getGui()))},Ut=bn(Gn);import{useCallback as An,useContext as Dn,useEffect as Vt}from"react";var In=(e,t,s,r,n,d)=>{const{context:a}=Dn(q),o=An(()=>{const u=n.current;if(!u)return;const c=u.getGui();c&&c.parentElement&&c.parentElement.removeChild(c),a.destroyBean(u),n.current=void 0},[]);Vt(()=>{const u=e!=null,c=e?.compDetails&&!e.compDetails.componentFromFramework,l=t&&s==null;if(!(u&&c&&!l)){o();return}const R=e.compDetails;if(n.current){const h=n.current,i=h.refresh!=null&&e.force==!1?h.refresh(R.params):!1;if(i===!0||i===void 0)return;o()}R.newAgStackInstance().then(h=>{if(!h)return;const f=h.getGui();if(!f)return;(t?s:d.current).appendChild(f),n.current=h})},[e,t,r]),Vt(()=>o,[])},On=In,Wn=(e,t,s)=>{const{compProxy:r}=e;s(r);const n=r.getProps(),d=Pe(t);return _.createElement(Ie.Provider,{value:{setMethods:a=>r.setMethods(a)}},d?_.createElement(t,{...n}):_.createElement(t,{...n,ref:a=>r.setRef(a)}))},Lt=(e,t,s)=>{const r=e.compProxy;return _.createElement(_.Fragment,null,r?Wn(e,t,s):_.createElement(t,{...e.compDetails.params,ref:s}))},Tn=(e,t,s,r,n)=>{const d=e.compDetails,a=d.componentClass,o=d.componentFromFramework&&!e.popup,u=d.componentFromFramework&&e.popup,c=!d.componentFromFramework&&e.popup;return _.createElement(_.Fragment,null,o&&Lt(e,a,t),u&&_.createElement(Ut,{editDetails:e,cellCtrl:r,eParentCell:s,wrappedContent:Lt(e,a,t)}),c&&n&&_.createElement(Ut,{editDetails:e,cellCtrl:r,eParentCell:s,jsChildComp:n}))},Nn=(e,t,s,r,n,d,a)=>{const{compDetails:o,value:u}=e,c=!o,l=o&&o.componentFromFramework,m=o&&o.componentClass,R=u?.toString?u.toString():u,v=()=>_.createElement(_.Fragment,null,c&&_.createElement(_.Fragment,null,R),l&&!d&&_.createElement(m,{...o.params,key:t,ref:r}),l&&d&&_.createElement(m,{...o.params,key:t}));return _.createElement(_.Fragment,null,n?_.createElement("span",{role:"presentation",id:`cell-${s}`,className:"ag-cell-value",ref:a},v()):v())},Hn=({cellCtrl:e,printLayout:t,editingRow:s})=>{const{context:r}=gn(q),{colIdSanitised:n,instanceId:d}=e,a=ie(),[o,u]=me(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[c,l]=me(),[m,R]=me(1),[v,h]=me(),[f,i]=me(!1),[g,P]=me(!1),[y,w]=me(!1),[E,F]=me(),b=yt(()=>e.isForceWrapper(),[e]),M=yt(()=>e.getCellAriaRole(),[e]),B=ie(null),p=ie(null),C=ie(),k=ie(),x=ie(),j=ie([]),A=ie(),[W,V]=me(0),G=Le(N=>{A.current=N,V(J=>J+1)},[]),z=o!=null&&(f||y||g),S=b||z,T=Le(N=>{if(k.current=N,N){const J=N.isCancelBeforeStart&&N.isCancelBeforeStart();setTimeout(()=>{J?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),D=ie();D.current||(D.current=new yn(()=>B.current)),On(o,S,A.current,W,C,B);const U=ie();gt(()=>{const N=U.current,J=o;if(U.current=o,N==null||N.compDetails==null||J==null||J.compDetails==null)return;const K=N.compDetails,O=J.compDetails;if(K.componentClass!=O.componentClass||p.current?.refresh==null)return;p.current.refresh(O.params)!=!0&&R(Y=>Y+1)},[o]),gt(()=>{if(!(c&&!c.compDetails.componentFromFramework))return;const J=c.compDetails,K=c.popup===!0,O=J.newAgStackInstance();return O.then(L=>{if(!L)return;const Y=L.getGui();T(L),K||((b?x:B).current?.appendChild(Y),L.afterGuiAttached&&L.afterGuiAttached()),F(L)}),()=>{O.then(L=>{const Y=L.getGui();r.destroyBean(L),T(void 0),F(void 0),Y?.parentElement?.removeChild(Y)})}},[c]);const I=Le(N=>{if(x.current=N,!N){j.current.forEach(K=>K()),j.current=[];return}const J=K=>{if(K){const O=K.getGui();N.insertAdjacentElement("afterbegin",O),j.current.push(()=>{r.destroyBean(K),wn(O)})}return K};if(f){const K=e.createSelectionCheckbox();J(K)}y&&J(e.createDndSource()),g&&J(e.createRowDragComp())},[e,r,y,g,f]),ne=Le(N=>{if(B.current=N,a.current=N?r.createBean(new vn):r.destroyBean(a.current),!N||!e)return;const J={addOrRemoveCssClass:(O,L)=>D.current.addOrRemoveCssClass(O,L),setUserStyles:O=>h(O),getFocusableElement:()=>B.current,setIncludeSelection:O=>i(O),setIncludeRowDrag:O=>P(O),setIncludeDndSource:O=>w(O),getCellEditor:()=>k.current||null,getCellRenderer:()=>p.current??C.current,getParentOfValue:()=>A.current??x.current??B.current,setRenderDetails:(O,L,Y)=>{u(le=>le?.compDetails!==O||le?.value!==L||le?.force!==Y?{value:L,compDetails:O,force:Y}:le)},setEditDetails:(O,L,Y,le)=>{if(O){let Re;le?Re=new En(O.params,()=>R(nt=>nt+1)):O.componentFromFramework&&Ye(),l({compDetails:O,popup:L,popupPosition:Y,compProxy:Re}),L||u(void 0)}else l(Re=>{Re?.compProxy&&(k.current=void 0)})}},K=x.current||void 0;e.setComp(J,N,K,t,s,a.current)},[]),$=yt(()=>!!(o?.compDetails?.componentFromFramework&&Pe(o.compDetails.componentClass)),[o]);gt(()=>{B.current&&(D.current.addOrRemoveCssClass("ag-cell-value",!S),D.current.addOrRemoveCssClass("ag-cell-inline-editing",!!c&&!c.popup),D.current.addOrRemoveCssClass("ag-cell-popup-editing",!!c&&!!c.popup),D.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!c||!!c.popup),e.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.editing&&B.current.focus({preventScroll:!0}))});const oe=()=>_.createElement(_.Fragment,null,o!=null&&Nn(o,m,d,p,S,$,G),c!=null&&Tn(c,T,B.current,e,E)),we=Le(()=>e.onFocusOut(),[]);return _.createElement("div",{ref:ne,style:v,role:M,"col-id":n,onBlur:we},S?_.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:I},oe()):oe())},_n=Cn(Hn),Un=({rowCtrl:e,containerType:t})=>{const{context:s,gos:r}=pn(q),n=de(),d=de(e.getDomOrder()),a=e.isFullWidth(),o=e.rowNode.displayed,[u,c]=pe(()=>o?e.rowNode.getRowIndexString():null),[l,m]=pe(()=>e.rowId),[R,v]=pe(()=>e.businessKey),[h,f]=pe(()=>e.rowStyles),i=de(null),g=de(null),[P,y]=pe(()=>null),[w,E]=pe(),[F,b]=pe(()=>o?e.getInitialRowTop(t):void 0),[M,B]=pe(()=>o?e.getInitialTransform(t):void 0),p=de(null),C=de(),k=de(!1),[x,j]=pe(0);Nt(()=>{if(k.current||!w||x>10)return;const I=p.current?.firstChild;I?(e.setupDetailRowAutoHeight(I),k.current=!0):j(ne=>ne+1)},[w,x]);const A=de();A.current||(A.current=new hn(()=>p.current));const W=dn(I=>{if(p.current=I,n.current=I?s.createBean(new fn):s.destroyBean(n.current),!I){e.unsetComp(t);return}if(!e.isAlive())return;const ne={setTop:b,setTransform:B,addOrRemoveCssClass:($,oe)=>A.current.addOrRemoveCssClass($,oe),setDomOrder:$=>d.current=$,setRowIndex:c,setRowId:m,setRowBusinessKey:v,setUserStyles:f,setCellCtrls:($,oe)=>{g.current=i.current,i.current=$;const we=it(g.current,$,d.current);we!==g.current&&ct(oe,()=>y(we))},showFullWidth:$=>E($),getFullWidthCellRenderer:()=>C.current,refreshFullWidth:$=>T.current?(E(oe=>({...oe,params:$()})),!0):!C.current||!C.current.refresh?!1:C.current.refresh($())};e.setComp(ne,I,t,n.current)},[]);mn(()=>De(w,s,p.current,C),[w]);const V=Ht(()=>{const I={top:F,transform:M};return Object.assign(I,h),I},[F,M,h]),G=a&&w?.componentFromFramework,z=!a&&P!=null,S=Ht(()=>!!(w?.componentFromFramework&&Pe(w.componentClass)),[w]),T=de(!1);Nt(()=>{T.current=S&&!!w&&!!r.get("reactiveCustomComponents")},[S,w]);const D=()=>P?.map(I=>xe.createElement(_n,{cellCtrl:I,editingRow:e.editing,printLayout:e.printLayout,key:I.instanceId})),U=()=>{const I=w.componentClass;return xe.createElement(xe.Fragment,null,S?xe.createElement(I,{...w.params}):xe.createElement(I,{...w.params,ref:C}))};return xe.createElement("div",{ref:W,role:"row",style:V,"row-index":u,"row-id":l,"row-business-key":R},z&&D(),G&&U())},Vn=un(Un),Ln=({name:e})=>{const{context:t}=on(q),s=Ct(()=>ln(e),[e]),r=Be(null),n=Be(null),d=Be([]),a=Be([]),[o,u]=an(()=>[]),c=Be(!1),l=Be(),m=Ct(()=>se(s.viewport),[s]),R=Ct(()=>se(s.container),[s]),v=s.type==="center",h=v?r:n;ve(" AG Row Container "+e+" ",h);const f=Ve(()=>v?r.current!=null&&n.current!=null:n.current!=null,[]),i=Ve(()=>v?r.current==null&&n.current==null:n.current==null,[]),g=Ve(()=>{if(i()&&(l.current=t.destroyBean(l.current)),f()){const E=b=>{const M=it(a.current,d.current,c.current);M!==a.current&&(a.current=M,ct(b,()=>u(M)))},F={setHorizontalScroll:b=>{r.current&&(r.current.scrollLeft=b)},setViewportHeight:b=>{r.current&&(r.current.style.height=b)},setRowCtrls:({rowCtrls:b,useFlushSync:M})=>{const B=!!M&&d.current.length>0&&b.length>0;d.current=b,E(B)},setDomOrder:b=>{c.current!=b&&(c.current=b,E(!1))},setContainerWidth:b=>{n.current&&(n.current.style.width=b)},setOffsetTop:b=>{n.current&&(n.current.style.transform=`translateY(${b})`)}};l.current=t.createBean(new cn(e)),l.current.setComp(F,n.current,r.current)}},[f,i]),P=Ve(E=>{n.current=E,g()},[g]),y=Ve(E=>{r.current=E,g()},[g]),w=()=>Ue.createElement("div",{className:R,ref:P,role:"rowgroup"},o.map(E=>Ue.createElement(Vn,{rowCtrl:E,containerType:s.type,key:E.instanceId})));return Ue.createElement(Ue.Fragment,null,v?Ue.createElement("div",{className:m,ref:y,role:"presentation"},w()):w())},jn=nn(Ln),zn=()=>{const e=rr(q),{context:t,overlays:s}=e,[r,n]=Q(""),[d,a]=Q(0),[o,u]=Q(0),[c,l]=Q("0px"),[m,R]=Q("0px"),[v,h]=Q("100%"),[f,i]=Q("0px"),[g,P]=Q("0px"),[y,w]=Q("100%"),[E,F]=Q(""),[b,M]=Q(""),[B,p]=Q(null),[C,k]=Q(""),[x,j]=Q(null),[A,W]=Q("ag-layout-normal"),V=ce();V.current||(V.current=new nr(()=>G.current));const G=ce(null),z=ce(null),S=ce(null),T=ce(null),D=ce(null),U=ce(null),I=ce(null),ne=ce([]),$=ce([]);ve(" AG Grid Body ",G),ve(" AG Pinned Top ",z),ve(" AG Sticky Top ",S),ve(" AG Middle ",U),ve(" AG Pinned Bottom ",I);const oe=sr(te=>{if(G.current=te,!te){ne.current=t.destroyBeans(ne.current),$.current.forEach(H=>H()),$.current=[];return}if(!t)return;const ze=(H,Z)=>{H.appendChild(Z),$.current.push(()=>H.removeChild(Z))},ot=H=>{const Z=t.createBean(new H);return ne.current.push(Z),Z},Ae=(H,Z,Qt)=>{ze(H,document.createComment(Qt)),ze(H,ot(Z).getGui())};Ae(te,or," AG Fake Horizontal Scroll ");const bt=s?.getOverlayWrapperCompClass();bt&&Ae(te,bt," AG Overlay Wrapper "),D.current&&Ae(D.current,ar," AG Fake Vertical Scroll ");const qt={setRowAnimationCssOnBodyViewport:n,setColumnCount:H=>{G.current&&lr(G.current,H)},setRowCount:H=>{G.current&&ur(G.current,H)},setTopHeight:a,setBottomHeight:u,setStickyTopHeight:l,setStickyTopTop:R,setStickyTopWidth:h,setTopDisplay:F,setBottomDisplay:M,setColumnMovingCss:(H,Z)=>V.current.addOrRemoveCssClass(H,Z),updateLayoutClasses:W,setAlwaysVerticalScrollClass:p,setPinnedTopBottomOverflowY:k,setCellSelectableCss:(H,Z)=>j(Z?H:null),setBodyViewportWidth:H=>{U.current&&(U.current.style.width=H)},registerBodyViewportResizeListener:H=>{if(U.current){const Z=ir(e,U.current,H);$.current.push(()=>Z())}},setStickyBottomHeight:i,setStickyBottomBottom:P,setStickyBottomWidth:w,setGridRootRole:H=>te.setAttribute("role",H)},Pt=t.createBean(new cr);ne.current.push(Pt),Pt.setComp(qt,te,U.current,z.current,I.current,S.current,T.current)},[]),we=re(()=>se("ag-root","ag-unselectable",A),[A]),N=re(()=>se("ag-body-viewport",r,A,B,x),[r,A,B,x]),J=re(()=>se("ag-body",A),[A]),K=re(()=>se("ag-floating-top",x),[x]),O=re(()=>se("ag-sticky-top",x),[x]),L=re(()=>se("ag-sticky-bottom",f==="0px"?"ag-hidden":null,x),[x,f]),Y=re(()=>se("ag-floating-bottom",x),[x]),le=re(()=>({height:d,minHeight:d,display:E,overflowY:C}),[d,E,C]),Re=re(()=>({height:c,top:m,width:v}),[c,m,v]),nt=re(()=>({height:f,bottom:g,width:y}),[f,g,y]),Jt=re(()=>({height:o,minHeight:o,display:b,overflowY:C}),[o,b,C]),Kt=te=>We.createElement(jn,{name:te,key:`${te}-container`}),Ge=({section:te,children:ze,className:ot,style:Ae})=>We.createElement("div",{ref:te,className:ot,role:"presentation",style:Ae},ze.map(Kt));return We.createElement("div",{ref:oe,className:we},We.createElement(tn,null),Ge({section:z,className:K,style:le,children:["topLeft","topCenter","topRight","topFullWidth"]}),We.createElement("div",{className:J,ref:D,role:"presentation"},Ge({section:U,className:N,children:["left","center","right","fullWidth"]})),Ge({section:S,className:O,style:Re,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Ge({section:T,className:L,style:nt,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Ge({section:I,className:Y,style:Jt,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},$n=tr(zn);import vt,{forwardRef as Jn,memo as Kn,useCallback as wt,useContext as qn,useImperativeHandle as Qn,useRef as Rt}from"react";import{TabGuardClassNames as Et,TabGuardCtrl as Yn}from"ag-grid-community";var Zn=(e,t)=>{const{children:s,eFocusableElement:r,onTabKeyDown:n,gridCtrl:d,forceFocusOutWhenTabGuardsAreEmpty:a}=e,{context:o}=qn(q),u=Rt(null),c=Rt(null),l=Rt(),m=i=>{const g=i==null?void 0:parseInt(i,10).toString();[u,c].forEach(P=>{g===void 0?P.current?.removeAttribute("tabindex"):P.current?.setAttribute("tabindex",g)})};Qn(t,()=>({forceFocusOutOfContainer(i){l.current?.forceFocusOutOfContainer(i)}}));const R=wt(()=>{const i=u.current,g=c.current;if(!i&&!g){l.current=o.destroyBean(l.current);return}if(i&&g){const P={setTabIndex:m};l.current=o.createBean(new Yn({comp:P,eTopGuard:i,eBottomGuard:g,eFocusableElement:r,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:a,focusInnerElement:y=>d.focusInnerElement(y)}))}},[]),v=wt(i=>{u.current=i,R()},[R]),h=wt(i=>{c.current=i,R()},[R]),f=i=>{const g=i==="top"?Et.TAB_GUARD_TOP:Et.TAB_GUARD_BOTTOM;return vt.createElement("div",{className:`${Et.TAB_GUARD} ${g}`,role:"presentation",ref:i==="top"?v:h})};return vt.createElement(vt.Fragment,null,f("top"),s,f("bottom"))},Xn=Jn(Zn),eo=Kn(Xn),to=({context:e})=>{const[t,s]=fe(""),[r,n]=fe(""),[d,a]=fe(null),[o,u]=fe(null),[c,l]=fe(!1),[m,R]=fe(),v=Se(),h=Se(null),f=Se(),[i,g]=fe(null),P=Se(()=>{}),y=Se(),w=Se([]),E=pt(()=>{},[]),F=Ze(()=>e.isDestroyed()?null:e.getBeans(),[e]);ve(" AG Grid ",h);const b=pt(k=>{if(h.current=k,v.current=k?e.createBean(new er):e.destroyBean(v.current),!k||e.isDestroyed())return;const x=v.current;P.current=x.focusInnerElement.bind(x);const j={destroyGridUi:()=>{},setRtlClass:s,forceFocusOutOfContainer:A=>{if(!A&&y.current?.isDisplayed()){y.current.forceFocusOutOfContainer(A);return}f.current?.forceFocusOutOfContainer(A)},updateLayoutClasses:n,getFocusableContainers:()=>{const A=[],W=h.current?.querySelector(".ag-root");return W&&A.push({getGui:()=>W}),w.current.forEach(V=>{V.isDisplayed()&&A.push(V)}),A},setCursor:a,setUserSelect:u};x.setComp(j,k,k),l(!0)},[]);Xs(()=>{const k=v.current,x=h.current;if(!m||!F||!k||!i||!x)return;const j=[],{watermarkSelector:A,paginationSelector:W,sideBarSelector:V,statusBarSelector:G,gridHeaderDropZonesSelector:z}=k.getOptionalSelectors(),S=[];if(z){const D=e.createBean(new z.component),U=D.getGui();x.insertAdjacentElement("afterbegin",U),S.push(U),j.push(D)}if(V){const D=e.createBean(new V.component),U=D.getGui(),I=i.querySelector(".ag-tab-guard-bottom");I&&(I.insertAdjacentElement("beforebegin",U),S.push(U)),j.push(D),w.current.push(D)}const T=D=>{const U=e.createBean(new D),I=U.getGui();return x.insertAdjacentElement("beforeend",I),S.push(I),j.push(U),U};if(G&&T(G.component),W){const D=T(W.component);y.current=D,w.current.push(D)}return A&&T(A.component),()=>{e.destroyBeans(j),S.forEach(D=>{D.parentElement?.removeChild(D)})}},[m,i,F]);const M=Ze(()=>se("ag-root-wrapper",t,r),[t,r]),B=Ze(()=>se("ag-root-wrapper-body","ag-focus-managed",r),[r]),p=Ze(()=>({userSelect:o??"",WebkitUserSelect:o??"",cursor:d??""}),[o,d]),C=pt(k=>{f.current=k,R(k!==null)},[]);return Oe.createElement("div",{ref:b,className:M,style:p,role:"presentation"},Oe.createElement("div",{className:B,ref:g,role:"presentation"},c&&i&&F&&Oe.createElement(q.Provider,{value:F},Oe.createElement(eo,{ref:C,eFocusableElement:i,onTabKeyDown:E,gridCtrl:v.current,forceFocusOutWhenTabGuardsAreEmpty:!0},Oe.createElement($n,null)))))},so=Zs(to);import{BeanStub as ro}from"ag-grid-community";var no=class extends ro{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},oo={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0},jt=new Set(Object.keys(oo)),zt=e=>{const t=X(),s=X(null),r=X(null),n=X([]),d=X([]),a=X(e),o=X(),u=X(),c=X(!1),[l,m]=Ee(void 0),[,R]=Ee(0),v=Je(i=>{if(s.current=i,!i){n.current.forEach(p=>p()),n.current.length=0;return}const g=e.modules||[];r.current||(r.current=new Ys(()=>R(p=>p+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),n.current.push(()=>{r.current?.destroy(),r.current=null}));const P=as(e.gridOptions,e,Object.keys(e).filter(p=>!jt.has(p))),y=()=>{if(c.current){const p=()=>o.current?.shouldQueueUpdates()?void 0:d.current.shift();let C=p();for(;C;)C(),C=p()}},w=new lo(y);o.current=w;const E=new no,F={providedBeanInstances:{frameworkCompWrapper:new co(r.current,P.reactiveCustomComponents??cs("reactiveCustomComponents")??!0),renderStatus:E},modules:g,frameworkOverrides:w,setThemeOnGridDiv:!0},b=p=>{m(p),p.createBean(E),n.current.push(()=>{p.destroy()}),p.getBean("ctrlsSvc").whenReady({addDestroyFunc:C=>{n.current.push(C)}},()=>{if(p.isDestroyed())return;const C=t.current;C&&e.setGridApi?.(C)})},M=p=>{p.getBean("ctrlsSvc").whenReady({addDestroyFunc:C=>{n.current.push(C)}},()=>{d.current.forEach(C=>C()),d.current.length=0,c.current=!0})},B=new ns;P.gridId??(P.gridId=u.current),t.current=B.create(i,P,b,M,F),n.current.push(()=>{t.current=void 0}),t.current&&(u.current=t.current.getGridId())},[]),h=Ke(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),f=Je(i=>{c.current&&!o.current?.shouldQueueUpdates()?i():d.current.push(i)},[]);return ts(()=>{const i=ao(a.current,e);a.current=e,f(()=>{t.current&&ps(i,t.current)})},[e]),$e.createElement("div",{style:h,className:e.className,ref:v},l&&!l.isDestroyed()?$e.createElement(so,{context:l}):null,r.current?.getPortals()??null)};function ao(e,t){const s={};return Object.keys(t).forEach(r=>{if(jt.has(r))return;const n=t[r];e[r]!==n&&(s[r]=n)}),s}var co=class extends rs{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const n=(d=>{switch(d){case"filter":return Ns;case"floatingFilterComponent":return Us;case"dateComponent":return Ws;case"dragAndDropImageComponent":return Ts;case"loadingOverlayComponent":return Vs;case"noRowsOverlayComponent":return js;case"statusPanel":return zs;case"toolPanel":return $s;case"menuItem":return Ls;case"cellRenderer":return Os}})(t.name);if(n)return new n(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Ye();break}const s=!t.cellRenderer&&t.name!=="toolPanel";return new xt(e,this.parent,t,s)}},io=Xt((e,t)=>{const s=es(q),{registry:r,context:n,gos:d,rowModel:a}=s,[o,u]=Ee(()=>new ee),[c,l]=Ee(()=>new ee),[m,R]=Ee(),[v,h]=Ee(),f=X(),i=X(null),g=X(),P=Ke(()=>is(e.api.getGridId(),m?.rowModelType??"clientSide"),[e]),y=Ke(()=>o.toString()+" ag-details-row",[o]),w=Ke(()=>c.toString()+" ag-details-grid",[c]);t&&ss(t,()=>({refresh(){return f.current?.refresh()??!1}})),e.template&&ms(230);const E=Je(b=>{if(i.current=b,!b){f.current=n.destroyBean(f.current),g.current?.();return}const M={addOrRemoveCssClass:(p,C)=>u(k=>k.setClass(p,C)),addOrRemoveDetailGridCssClass:(p,C)=>l(k=>k.setClass(p,C)),setDetailGrid:p=>R(p),setRowData:p=>h(p),getGui:()=>i.current},B=r.createDynamicBean("detailCellRendererCtrl",!0);if(B&&(n.createBean(B),B.init(M,e),f.current=B,d.get("detailRowAutoHeight"))){const p=()=>{if(i.current==null)return;const C=i.current.clientHeight;C!=null&&C>0&&setTimeout(()=>{e.node.setRowHeight(C),(ls(d,a)||us(d,a))&&a.onRowHeightChanged()},0)};g.current=ds(s,b,p),p()}},[]),F=Je(b=>{f.current?.registerDetailWithMaster(b)},[]);return $e.createElement("div",{className:y,ref:E},m&&$e.createElement(zt,{className:w,...m,modules:P,rowData:v,setGridApi:F}))}),lo=class extends os{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:Ft,agGroupRowRenderer:Ft,agDetailCellRenderer:io},this.wrapIncoming=(t,s)=>s==="ensureVisible"?Ss(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return Ps()}},uo=class extends Zt{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return Yt.createElement(zt,{...this.props,setGridApi:this.setGridApi})}};import{useContext as po}from"react";function je(e){const{setMethods:t}=po(Ie);t(e)}function mo(e){je(e)}function ho(e){return je(e)}function fo(e){return je(e)}function Co(e){je(e)}function go(e){je(e)}export{uo as AgGridReact,Ie as CustomComponentContext,qs as getInstance,mo as useGridCellEditor,ho as useGridDate,fo as useGridFilter,Co as useGridFloatingFilter,go as useGridMenuItem,Ye as warnReactiveCustomComponents};
